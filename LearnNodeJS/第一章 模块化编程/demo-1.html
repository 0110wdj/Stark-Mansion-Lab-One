<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>模块化开发演变 - 全局函数</title>
  </head>
  <body>
    <input type="text" id="x" />
    <select name="" id="opt">
      <option value="0">+</option>
      <option value="1">-</option>
      <option value="2">*</option>
      <option value="3">/</option>
    </select>
    <input type="text" id="y" />
    <button id="cal">=</button>
    <input type="text" id="result" />
    <script>
      // 定义用于计算的函数
      function add(x, y) {
        return parseInt(x) + parseInt(y);
      }
      function subtract(x, y) {
        return parseInt(x) - parseInt(y);
      }
      function multiply(x, y) {
        return parseInt(x) * parseInt(y);
      }
      function divide(x, y) {
        return parseInt(x) / parseInt(y);
      }
      // 获取所有的 DOM 元素
      var oX = document.getElementById("x");
      var oY = document.getElementById("y");
      var oOpt = document.getElementById("opt");
      var oCal = document.getElementById("cal");
      var oResult = document.getElementById("result");
      // 为等号添加单机事件
      oCal.addEventListener("click", function () {
        var x = oX.value.trim();
        var y = oY.value.trim();
        var opt = oOpt.value; 
        var result = 0;
        switch (opt) {
          case "0":
            result = add(x, y);
            break;
          case "1":
            result = subtract(x, y);
            break;
          case "2":
            result = multiply(x, y);
            break;
          case "3":
            result = divide(x, y);
            break;
        }
        oResult.value = result;
        // console.log(oResult.value);
      });
    </script>
  </body>
</html>
